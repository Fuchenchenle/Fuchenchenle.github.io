<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Debian 10 搭建 LAMP</title>
      <link href="/2020/05/29/LAMP/"/>
      <url>/2020/05/29/LAMP/</url>
      
        <content type="html"><![CDATA[<center>基于 网络系统管理 LAMP基础搭建教程</center><h3 id="安装Apache2"><a href="#安装Apache2" class="headerlink" title="安装Apache2"></a>安装Apache2</h3><pre><code>apt install -y apche2</code></pre><h3 id="安装php"><a href="#安装php" class="headerlink" title="安装php"></a>安装php</h3><pre><code>apt install -y php libapache2-mod-php php-mysql</code></pre><h3 id="创建php脚本"><a href="#创建php脚本" class="headerlink" title="创建php脚本"></a>创建php脚本</h3><pre><code>vim /var/www/html/info.php</code></pre><h5 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h5><pre><code>&lt;?php phpinfo()；?&gt;</code></pre><p>浏览器输入 <code>ip/info.php</code> 查看版本信息</p><h3 id="安装maridb"><a href="#安装maridb" class="headerlink" title="安装maridb"></a>安装maridb</h3><pre><code>apt install -y mariadb-server</code></pre><h3 id="运行安全脚本"><a href="#运行安全脚本" class="headerlink" title="运行安全脚本"></a>运行安全脚本</h3><pre><code>mysql sercure installation </code></pre><p>安全脚本具体内容可以参考我在b站 发的视频教程 <a href="https://www.bilibili.com/video/BV1AE411N7rm" target="_blank" rel="noopener">Debian 10 搭建LAMP</a>  4分25秒</p><h3 id="安装phpmyadmin"><a href="#安装phpmyadmin" class="headerlink" title="安装phpmyadmin"></a>安装phpmyadmin</h3><pre><code>从[phpmyadmin官网](https://www.phpmyadmin.net/) 获取链接，使用wget命令下载之后用tar命令解压到指定的目录</code></pre><p>安装phpmyadmin具体内容可以参考我在b站 发的视频教程 <a href="https://www.bilibili.com/video/BV1AE411N7rm" target="_blank" rel="noopener">Debian 10 搭建LAMP</a>  5分30秒</p><h3 id="将解压好的文件移动到文件夹"><a href="#将解压好的文件移动到文件夹" class="headerlink" title="将解压好的文件移动到文件夹"></a>将解压好的文件移动到文件夹</h3><pre><code>mv phpmyadmin-XX-all-languges /usr/share/phpmyadmin</code></pre><h3 id="设置文件夹权限"><a href="#设置文件夹权限" class="headerlink" title="设置文件夹权限"></a>设置文件夹权限</h3><pre><code>chown –R www-data:www-data /usr/share/phpmyadmin</code></pre><h3 id="写入apche2配置文件"><a href="#写入apche2配置文件" class="headerlink" title="写入apche2配置文件"></a>写入apche2配置文件</h3><pre><code>vim /etc/apache2/conf-enabled/phpmyadmin.conf</code></pre><h5 id="添加-1"><a href="#添加-1" class="headerlink" title="添加"></a>添加</h5><pre class=" language-xml"><code class="language-xml"># phpMyAdmin default Apache configurationAlias /phpmyadmin /usr/share/phpmyadmin&lt;Directory /usr/share/phpmyadmin>Options SymLinksIfOwnerMatchDirectoryIndex index.php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_php5.c</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_mime.c</span><span class="token punctuation">></span></span>AddType application/x-httpd-php .php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FilesMatch</span> <span class="token attr-name">".+\.php$"</span><span class="token punctuation">></span></span>SetHandler application/x-httpd-php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FilesMatch</span><span class="token punctuation">></span></span>php_value include_path .php_admin_value upload_tmp_dir /var/lib/phpmyadmin/tmpphp_admin_value open_basedir /usr/share/phpmyadmin/:/etc/phpmyadmin/:/var/lib/phpmyadmin/:/usr/share/php/php-gettext/:/usr/share/php/php-php-gettext/:/usr/share/javascript/:/usr/share/php/tcpdf/:/usr/share/doc/phpmyadmin/:/usr/share/php/phpseclib/php_admin_value mbstring.func_overload 0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_php.c</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_mime.c</span><span class="token punctuation">></span></span>AddType application/x-httpd-php .php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FilesMatch</span> <span class="token attr-name">".+\.php$"</span><span class="token punctuation">></span></span>SetHandler application/x-httpd-php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FilesMatch</span><span class="token punctuation">></span></span>php_value include_path .php_admin_value upload_tmp_dir /var/lib/phpmyadmin/tmpphp_admin_value open_basedir /usr/share/phpmyadmin/:/etc/phpmyadmin/:/var/lib/phpmyadmin/:/usr/share/php/php-gettext/:/usr/share/php/php-php-gettext/:/usr/share/javascript/:/usr/share/php/tcpdf/:/usr/share/doc/phpmyadmin/:/usr/share/php/phpseclib/php_admin_value mbstring.func_overload 0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Directory</span><span class="token punctuation">></span></span># Authorize for setup&lt;Directory /usr/share/phpmyadmin/setup><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_authz_core.c</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfModule</span> <span class="token attr-name">mod_authn_file.c</span><span class="token punctuation">></span></span>AuthType BasicAuthName "phpMyAdmin Setup"AuthUserFile /etc/phpmyadmin/htpasswd.setup<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span>Require valid-user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfModule</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Directory</span><span class="token punctuation">></span></span># Disallow web access to directories that don't need it&lt;Directory /usr/share/phpmyadmin/templates>Require all denied<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Directory</span><span class="token punctuation">></span></span>&lt;Directory /usr/share/phpmyadmin/libraries>Require all denied<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Directory</span><span class="token punctuation">></span></span>&lt;Directory /usr/share/phpmyadmin/setup/lib>Require all denied<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Directory</span><span class="token punctuation">></span></span></code></pre><h3 id="最后打开浏览器访问"><a href="#最后打开浏览器访问" class="headerlink" title="最后打开浏览器访问"></a>最后打开浏览器访问</h3><pre><code>ip/phpmyadmin</code></pre>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mariadb</title>
      <link href="/2020/05/28/Mariadb/"/>
      <url>/2020/05/28/Mariadb/</url>
      
        <content type="html"><![CDATA[<center>基于 网络系统管理 Mariadb搭建基础教程</center><h3 id="安装数据库"><a href="#安装数据库" class="headerlink" title="安装数据库"></a>安装数据库</h3><pre><code>root@debian:~# apt install –y mariadb-server</code></pre><h3 id="以root用户登录数据库"><a href="#以root用户登录数据库" class="headerlink" title="以root用户登录数据库"></a>以root用户登录数据库</h3><pre><code>root@debian:~# Mysql –u root –p</code></pre><h3 id="创建一个库-名为staff"><a href="#创建一个库-名为staff" class="headerlink" title="创建一个库  名为staff"></a>创建一个库  名为staff</h3><pre><code>MariaDB [(none)]&gt; Create database staff;</code></pre><h3 id="切换到staff库"><a href="#切换到staff库" class="headerlink" title="切换到staff库"></a>切换到staff库</h3><pre><code>MariaDB [(none)]&gt;use staff;</code></pre><h3 id="添加名字为-user-数据表"><a href="#添加名字为-user-数据表" class="headerlink" title="添加名字为 user 数据表"></a>添加名字为 user 数据表</h3><pre><code>MariaDB [staff]&gt; create table staff.user(</code></pre><pre><code>  -&gt; id int primary key,  #primary key为主键  -&gt; name varchar(10),  -&gt; birthday datetime,  -&gt; sex char(8),  -&gt; password char(128)-&gt; );</code></pre><h3 id="查看数据表"><a href="#查看数据表" class="headerlink" title="查看数据表"></a>查看数据表</h3><pre><code>MariaDB [staff]&gt;desc user；</code></pre><h3 id="导出并且备份数据库"><a href="#导出并且备份数据库" class="headerlink" title="导出并且备份数据库"></a>导出并且备份数据库</h3><pre><code>root@debian:~#Mysqldump staff &gt;staff.sql                        数据库  备份名称 </code></pre>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debian10 搭建 Apache2</title>
      <link href="/2020/05/28/Apache2/"/>
      <url>/2020/05/28/Apache2/</url>
      
        <content type="html"><![CDATA[<center>基于 网络系统管理 Apache2虚拟主机基础教程</center><h3 id="安装Apache2"><a href="#安装Apache2" class="headerlink" title="安装Apache2"></a>安装Apache2</h3><pre><code>apt install -y apache2</code></pre><h3 id="创建网页目录"><a href="#创建网页目录" class="headerlink" title="创建网页目录"></a>创建网页目录</h3><pre><code>mkdir -p /var/www/fuchen.com/html</code></pre><h3 id="编辑创建的目录"><a href="#编辑创建的目录" class="headerlink" title="编辑创建的目录"></a>编辑创建的目录</h3><pre><code>vim /var/www/fuchen.com/html/index/html</code></pre><h5 id="添加如下内容"><a href="#添加如下内容" class="headerlink" title="添加如下内容"></a>添加如下内容</h5><pre><code>&lt;html&gt;    &lt;head&gt;          &lt;title&gt;Welcome to fuchen.com!&lt;/title&gt;  #网页标题    &lt;/head&gt;    &lt;body&gt;        &lt;h1&gt;Success!  The fuchen.com server block is working!&lt;/h1&gt;#内容    &lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="配置虚拟主机文件"><a href="#配置虚拟主机文件" class="headerlink" title="配置虚拟主机文件"></a>配置虚拟主机文件</h3><pre><code>vim /etc/apache2/sites-available/fuchen.com.conf</code></pre><h5 id="修改并且添加"><a href="#修改并且添加" class="headerlink" title="修改并且添加"></a>修改并且添加</h5><pre><code>&lt;VirtualHost *:80&gt;    ServerAdmin admin@fuchen.com  #管理员邮箱    ServerName fuchen.com    #虚拟主机域名    ServerAlias www.fuchen.com    #虚拟主机域名别称DocumentRoot /var/www/fuchen.com/html    #虚拟主机根目录Deny/Allow From all        #禁止/允许 所有人访问Deny/Allow 172.168.70.172    #禁止/允许访问的ipErrorLog ${APACHE_LOG_DIR}/error.log    CustomLog ${APACHE_LOG_DIR}/access.log combined&lt;/VirtualHost&gt;</code></pre><p><strong><em>如果觉得麻烦 可以复制  <code>/etc/apche2/sites-available/000-default.comf</code> 中的配置文件作为模板</em></strong></p><h3 id="关闭默认站点"><a href="#关闭默认站点" class="headerlink" title="关闭默认站点"></a>关闭默认站点</h3><pre><code>a2ensite 000-default.conf</code></pre><h3 id="启动自己站点"><a href="#启动自己站点" class="headerlink" title="启动自己站点"></a>启动自己站点</h3><pre><code>a2ensite fuchen.com.conf</code></pre><h3 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h3><pre><code>systemctl restart apache2</code></pre><p><strong>本文章结合 <a href="https://fuchenchenle.cn/2020/05/28/DNS/" target="_blank" rel="noopener">Debian10 搭建 DNS</a> 使用</strong></p>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debian10 搭建NFS</title>
      <link href="/2020/05/28/NFS/"/>
      <url>/2020/05/28/NFS/</url>
      
        <content type="html"><![CDATA[<center>基于 网络系统管理 NFS基础搭建教程</center><h3 id="创建共享文件夹"><a href="#创建共享文件夹" class="headerlink" title="创建共享文件夹"></a>创建共享文件夹</h3><pre><code>mkdir /home/share</code></pre><h3 id="创建挂载路径"><a href="#创建挂载路径" class="headerlink" title="创建挂载路径"></a>创建挂载路径</h3><pre><code>mkdir /home/test</code></pre><h3 id="安装NFS服务"><a href="#安装NFS服务" class="headerlink" title="安装NFS服务"></a>安装NFS服务</h3><pre><code>apt –get install nfs-kernel-server –y</code></pre><h3 id="打开编辑文件，写入挂载配置"><a href="#打开编辑文件，写入挂载配置" class="headerlink" title="打开编辑文件，写入挂载配置"></a>打开编辑文件，写入挂载配置</h3><pre><code>Nano /etc/exports /home/share 172.168.70.176(rw,sync,no_root_squash) (文件路径)  （服务器ip）  (可读写，数据同步写入硬盘)</code></pre><h3 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h3><pre><code>/etc/init.d/nfs-kernel-server restart </code></pre><h3 id="挂载服务"><a href="#挂载服务" class="headerlink" title="挂载服务"></a>挂载服务</h3><pre><code>mount –t nfs 172.168.70.176:/home/share /home/test</code></pre><h3 id="查看挂载"><a href="#查看挂载" class="headerlink" title="查看挂载"></a>查看挂载</h3><pre><code>df -h</code></pre>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debian10 搭建 DNS</title>
      <link href="/2020/05/28/DNS/"/>
      <url>/2020/05/28/DNS/</url>
      
        <content type="html"><![CDATA[ <center>基于 网络系统管理 DNS解析基础教程</center><h3 id="安装-bind-以及dns解析工具"><a href="#安装-bind-以及dns解析工具" class="headerlink" title="安装 bind 以及dns解析工具"></a>安装 bind 以及dns解析工具</h3><pre><code>apt install -y bind9apt install -y dnsutils</code></pre><h3 id="修改DNS配置"><a href="#修改DNS配置" class="headerlink" title="修改DNS配置"></a>修改DNS配置</h3><pre><code>vim /etc/resolv.conf</code></pre><h3 id="将DNS指向需要解析的域名"><a href="#将DNS指向需要解析的域名" class="headerlink" title="将DNS指向需要解析的域名"></a>将DNS指向需要解析的域名</h3><pre><code>search fuchen.com    #需要解析的域名nameserver  172.168.70.176    #需要解析的ip</code></pre><h3 id="修改主配置文件"><a href="#修改主配置文件" class="headerlink" title="修改主配置文件"></a>修改主配置文件</h3><pre><code>vim  /etc/bind/named.conf</code></pre><h5 id="添加正向解析"><a href="#添加正向解析" class="headerlink" title="添加正向解析"></a>添加正向解析</h5><pre><code>Zone &quot;fuchen.com&quot;{   Type master;   File &quot;/etc/bind/db.fuchen.com&quot;;   #正向解析记录文件路径};</code></pre><h5 id="添加反向解析"><a href="#添加反向解析" class="headerlink" title="添加反向解析"></a>添加反向解析</h5><pre><code>Zone &quot;70.168.172.in-addr.arpa&quot; {   Type master;   File &quot;/etc/bind/db.70.168.172&quot;;  #反向解析记录文件路径};</code></pre><h3 id="查询服务器运行状态"><a href="#查询服务器运行状态" class="headerlink" title="查询服务器运行状态"></a>查询服务器运行状态</h3><pre><code>systemctl status bind9</code></pre><h3 id="进入bind目录，将db-local文件复制，作为正向解析记录的模板"><a href="#进入bind目录，将db-local文件复制，作为正向解析记录的模板" class="headerlink" title="进入bind目录，将db.local文件复制，作为正向解析记录的模板"></a>进入bind目录，将db.local文件复制，作为正向解析记录的模板</h3><pre><code>cd /etc/bind/cp db.local db.fuchen.com</code></pre><h3 id="打开fuchen-com的解析记录文件"><a href="#打开fuchen-com的解析记录文件" class="headerlink" title="打开fuchen.com的解析记录文件"></a>打开fuchen.com的解析记录文件</h3><pre><code>vim db.fuchen.com</code></pre><h5 id="修改格式如下"><a href="#修改格式如下" class="headerlink" title="修改格式如下"></a>修改格式如下</h5><pre><code>$TTL  604800@    IN   SOA   fuchen.com. admin.test.com. (​               2     ; Serial​             604800     ; Refresh​             86400     ; Retry​            2419200     ; Expire​             604800 )    ; Negative Cache TTL;@    IN   NS   ns.fuchen.com.@    IN   A    172.168.70.176\*    IN   A    172.168.70.176</code></pre><h3 id="复制反向解析文件"><a href="#复制反向解析文件" class="headerlink" title="复制反向解析文件"></a>复制反向解析文件</h3><pre><code>cp db.127 db.70.168.172</code></pre><h3 id="配置反向解析文件"><a href="#配置反向解析文件" class="headerlink" title="配置反向解析文件"></a>配置反向解析文件</h3><pre><code>vim db.70.168.172</code></pre><h5 id="格式如下"><a href="#格式如下" class="headerlink" title="格式如下"></a>格式如下</h5><pre><code>$TTL    604800@       IN      SOA     fuchen.com. admin.fuchen.com. (                              1         ; Serial                         604800         ; Refresh                          86400         ; Retry                        2419200         ; Expire                         604800 )       ; Negative Cache TTL;@       IN      NS      ns.fuchen.com.171     IN      PTR     web.fuchen.com.</code></pre><h3 id="查看解析配置"><a href="#查看解析配置" class="headerlink" title="查看解析配置"></a>查看解析配置</h3><pre><code>www.fuchen.com@172.168.70.176nslookup www.fuchen.com</code></pre><p>本文章结合 <a href="https://fuchenchenle.cn/2020/05/28/Apache2/" target="_blank" rel="noopener">Debian 10 搭建apache2</a> 使用</p>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debian10 搭建Samba</title>
      <link href="/2020/05/27/Samba/"/>
      <url>/2020/05/27/Samba/</url>
      
        <content type="html"><![CDATA[<center>基于 网络系统管理 Samba搭建的基础教程</center><h3 id="安装Samba服务"><a href="#安装Samba服务" class="headerlink" title="安装Samba服务"></a>安装Samba服务</h3><pre><code>apt install samba -y </code></pre><h3 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h3><pre><code>useradd user</code></pre><h3 id="将用户加入samba组"><a href="#将用户加入samba组" class="headerlink" title="将用户加入samba组"></a>将用户加入samba组</h3><pre><code>smbpasswd -a user </code></pre><h3 id="创建一个共享文件"><a href="#创建一个共享文件" class="headerlink" title="创建一个共享文件"></a>创建一个共享文件</h3><pre><code>mkdir /home/share</code></pre><h3 id="设置共享文件权限"><a href="#设置共享文件权限" class="headerlink" title="设置共享文件权限"></a>设置共享文件权限</h3><pre><code>chmod 777 /home/share</code></pre><h3 id="打开samba主配文件修改"><a href="#打开samba主配文件修改" class="headerlink" title="打开samba主配文件修改"></a>打开samba主配文件修改</h3><pre><code>vim /etc/samba/smb.conf</code></pre><h3 id="在文件最后添加"><a href="#在文件最后添加" class="headerlink" title="在文件最后添加"></a>在文件最后添加</h3><pre><code>    [share]        comment = share    #共享描述        path = /home/share       #共享目录        public = yes                #允许户访问        writable = yes              #允许在录下写入        directory mask = 0775       #默认创建目录权限 rwxrwxr_x        create mask = 0775          #默认创建文件权限 rwxrwxr_x        valid users = user      #允许访问该共享的用户        write list = user      #可写入共享的用户列表        browseable = yes             #该指定共享目录可浏览        available = yes              #该指定共享资源可使用 </code></pre>]]></content>
      
      
      <categories>
          
          <category> Debian </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
